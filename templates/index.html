<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Index - Camspeak</title>
  <meta name="description" content="">
  <meta name="keywords" content="">

  <!-- Favicons -->
  <link href="{{ url_for('static', filename='img/CamSpeak/favicon.png') }}" rel="icon">
  <link href="{{ url_for('static', filename='img/Camspeak/favicon.png') }}" rel="apple-touch-icon">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
    rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="{{ url_for('static', filename='vendor/bootstrap/css/bootstrap.min.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='vendor/bootstrap-icons/bootstrap-icons.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='vendor/aos/aos.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='vendor/swiper/swiper-bundle.min.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='vendor/glightbox/css/glightbox.min.css') }}" rel="stylesheet">

  <!-- Main CSS File -->
  <link href="{{ url_for('static', filename='css/main.css') }}" rel="stylesheet">

</head>


<body class="index-page">

  <header id="header" class="header d-flex align-items-center sticky-top">
    <div class="container-fluid container-xl position-relative d-flex align-items-center">

      <a href="{{ url_for('index') }}" class="logo d-flex align-items-center me-auto">
        <!-- Uncomment the line below if you also wish to use an image logo -->
        <!-- <img src="{{ url_for('static', filename='assets/img/logo.png') }}" alt=""> -->
        <h1 class="sitename">CamSpeak</h1>
      </a>

      <nav id="navmenu" class="navmenu">
        <ul>
          <li><a href="#hero" class="active">Home</a></li>
          <li><a href="#about">About</a></li>
          <li><a href="#faq">F.A.Q</a></li>
          <li><a href="#coba-sekarang"></a></li>
        </ul>
        <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
      </nav>

      <a class="btn-getstarted" href="{{ url_for('index') }}#coba-sekarang">Coba Sekarang</a>

    </div>
  </header>

  <main class="main">


    <!-- Hero Section -->
    <section id="hero" class="hero section">

      <div class="container">
        <div class="row gy-4">
          <div class="col-lg-6 order-lg-last hero-img" data-aos="zoom-out" data-aos-delay="100">
            <img src="{{ url_for('static', filename='img/hero-img.png') }}" class="img-fluid animated" alt="">
          </div>
          <div class="col-lg-6 d-flex flex-column justify-content-center text-center text-md-start" data-aos="fade-in">
            <h2>CamSpeak - Dari Gambar Menjadi Suara</h2>
            <p>📷 Ambil gambar, 🎙 ekstrak teks, dan 🔊 dengarkan hasilnya!</p>
            <div class="d-flex mt-4 justify-content-center justify-content-md-start">
              <a href="#coba-sekarang" class="download-btn"><i class="bi bi-play-fill"></i> <span>Coba
                  Sekarang</span></a>
              <a href="#about" class="download-btn"><i class="bi bi-houses-fill"></i> <span>Pelajari Lebih
                  Lanjut</span></a>
            </div>
          </div>
        </div>
      </div>
    </section><!-- /Hero Section -->

    <!-- Section Coba Sekarang -->
    <section id="coba-sekarang" class="section light-background py-5">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-lg-8 p-4 shadow rounded bg-white">
            <h2 class="text-center text-alert fw-bold">Camspeak</h2>

            <!-- Form Upload Gambar -->
            <form id="upload-form" method="POST" enctype="multipart/form-data">
              <!-- Pilihan Jenis Input -->
              <div class="mt-3 text-center">
                <label for="input-option" class="fw-bold">Pilih Jenis Input:</label>
                <select name="input_option" id="input-option" class="form-select w-50 mx-auto" required>

                  <option value="buku">Buku</option>
                  <option value="poster">Poster</option>
                </select>
              </div>

              <div class="text-center mt-4">
                <!-- Hanya 1 input file -->
                <input type="file" name="file" id="file-upload" class="d-none" accept="image/*,.pdf" required>

                <div class="d-flex justify-content-center gap-5 flex-wrap">
                  <!-- Ambil Gambar -->
                  <div class="upload-option text-center" id="camera-option">
                    <div class="upload-box">
                      <img src="{{ url_for('static', filename='img/CamSpeak/Ambil Gambar Icon.png') }}"
                        alt="Camera Icon" />
                    </div>
                    <p class="fw-bold mt-2">Ambil Gambar</p>
                  </div>

                  <!-- Upload File -->
                  <div class="upload-option text-center" id="upload-option">
                    <div class="upload-box">
                      <img src="{{ url_for('static', filename='img/CamSpeak/Upload Gambar Icon.png') }}"
                        alt="Upload Icon" />
                    </div>
                    <p class="fw-bold mt-2">Upload File</p>
                  </div>
                </div>

                <!-- 🔽 Tambahkan hidden input di sini -->
                <input type="hidden" name="camera_image" id="camera-image">
                <!-- Hidden input ini dipakai untuk menampung hasil foto dari kamera -->
              </div>

              <!-- Modal Kamera -->
              <div class="modal fade" id="cameraModal" tabindex="-1" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered modal-fullscreen-sm-down">
                  <div class="modal-content camera-modal">
                    <!-- Header -->
                    <div class="modal-header-custom d-flex justify-content-between align-items-center">
                      <!-- Tombol Flash -->
                      <button type="button" class="btn-flash" id="flash-btn">
                        <img id="flash-icon" src="static/img/CamSpeak/Flash Off.png" alt="Flash" style="width:20px; height:20px;">
                        <span class="btn-label">Flash</span>
                      </button>
                    
                      <!-- Judul -->
                      <h5 class="modal-title mx-auto">Ambil Gambar</h5>

                      <!-- Tombol Close -->
                      <button type="button" class="btn-close-custom" data-bs-dismiss="modal">
                        <img src="static/img/CamSpeak/Cancel.png" alt="Close" style="width:20px; height:20px;">
                        <span class="btn-label">Tutup</span>
                      </button>
                    </div>

                    <!-- Body -->
                    <div class="modal-body-custom">
                      <!-- Video kamera -->
                      <video id="camera-stream" autoplay playsinline></video>
                      <!-- Canvas untuk preview -->
                      <canvas id="camera-canvas" class="d-none"></canvas>
                    </div>

                    <!-- Footer -->
                    <div class="modal-footer-custom d-flex justify-content-around">
                      <button type="button" class="circle-btn" data-bs-dismiss="modal">
                        <img src="static/img/CamSpeak/Back.png" alt="Back" style="width:20px; height:20px;">
                        <span class="btn-label">Kembali</span>
                      </button>

                      <button type="button" class="circle-btn" id="capture-btn">
                        <img src="static/img/CamSpeak/Camera.png" alt="Capture" style="width:20px; height:20px;">
                        <span class="btn-label">Ambil</span>
                      </button>

                      <button type="button" class="circle-btn" id="switch-camera-btn">
                        <img src="static/img/CamSpeak/Rotate Camera.png" alt="Switch" style="width:20px; height:20px;">
                        <span class="btn-label">Ganti</span>
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Modal Preview Foto -->
              <div class="modal fade" id="previewModal" tabindex="-1" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered modal-lg">
                  <div class="modal-content preview-modal">
                    <div class="modal-header d-flex justify-content-between align-items-center">
                      <h5 class="modal-title">Preview Gambar</h5>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Tutup"></button>
                    </div>
                    <div class="modal-body text-center">
                      <img id="preview-photo" src="#" alt="Preview Foto" class="img-fluid fade-img d-none rounded shadow">
                    </div>
                    <div class="modal-footer justify-content-around">
                      <button type="button" class="circle-btn" id="retake-btn">
                        <img src="static/img/CamSpeak/Back.png" alt="Back" style="width:20px; height:20px;">
                        <span class="btn-label">Ambil Ulang</span>
                      </button>

                      <button type="button" class="circle-btn" id="save-photo-btn" data-bs-dismiss="modal">
                        <img src="static/img/CamSpeak/Done.png" alt="Use" style="width:20px; height:20px;">
                        <span class="btn-label">Gunakan</span>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
          </div>

          <!-- Preview file -->
          <div class="text-center mt-3">
            <h6 class="text-alert fw-bold">File Yang Terupload</h6>
            <div id="preview-container" class="d-flex flex-wrap justify-content-center gap-3 mt-3"></div>
            <p id="pdf-info" class="mt-2"></p>
          </div>


          <!-- Tombol Submit -->
          <div class="text-center mt-4">
            <button type="submit" class="btn btn-primary px-4 py-2" id="submit-btn" disabled>
              Jalankan
            </button>
          </div>
          </form>

          <div id="processingModal" class="modal" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false">
              <div class="modal-dialog modal-dialog-centered">
                  <div class="modal-content">
                      <div class="modal-header d-none"> 
                          <h5 class="modal-title">Notifikasi</h5>
                      </div>
                      <div class="modal-body text-center">
                          <div class="spinner-border text-primary" role="status">
                              <span class="visually-hidden">Memuat...</span>
                          </div>
                          <p class="mt-3">Mohon ditunggu, laporan Anda sedang diproses...</p>
                      </div>
                  </div>
              </div>
          </div>


          {% if ocr_pages %}
          <div class="mt-4 p-3 border rounded bg-light">
            <h5 class="fw-bold">Hasil OCR:</h5>

            <div id="ocr-container">
              {% for page in ocr_pages %}
              <div class="ocr-page {% if loop.first %}d-block{% else %}d-none{% endif %}" 
                  id="ocr-page-{{ page.page_num }}">

                <!-- Judul Halaman -->
                <h6>Halaman {{ page.page_num }}</h6>

                <!-- Teks hasil OCR -->
                <div style="white-space: pre-wrap; text-align: justify;">{{ page.text }}</div>

                <!-- Gambar hasil upload -->
                <div class="text-center mt-3">
                  <img src="{{ page.image }}" class="img-fluid" style="max-height:300px;">
                </div>

                <!-- Audio -->
                <div class="mt-3">
                  <h6>Audio Halaman {{ page.page_num }}</h6>
                  {% if page.audio %}
                    <audio controls>
                      <source src="{{ page.audio }}" type="audio/mpeg">
                      Browser kamu tidak mendukung audio.
                    </audio>
                    <p><a href="{{ page.audio }}" download>Download Audio Halaman {{ page.page_num }}</a></p>
                  {% endif %}
                </div>

                <!-- Statistik -->
                <div class="mt-3">
                  <p><strong>Jumlah Kata:</strong> {{ page.word_count }}</p>
                  <p><strong>Confidence:</strong> {{ "%.2f"|format(page.confidence * 100) }}%</p>
                  <p><strong>Waktu Komputasi:</strong> {{ page.ocr_time }} detik</p>
                </div>

              </div>
              {% endfor %}
            </div>

            <!-- Navigasi antar halaman -->
            <div class="d-flex justify-content-between mt-3">
              <button id="prevPage" class="btn btn-outline-primary">← Sebelumnya</button>
              <button id="nextPage" class="btn btn-outline-primary">Berikutnya →</button>
            </div>
          </div>

        {% else %}
          {# fallback kalau belum ada hasil OCR #}
          {% if ocr_text %}
          <div class="mt-4 p-3 border rounded bg-light">
            <h5 class="fw-bold">Hasil OCR:</h5>
            <div style="white-space: pre-wrap;">{{ ocr_text }}</div>
          </div>
          {% endif %}
        {% endif %}


        </div>
      </div>
      </div>
    </section>

    <!-- About Section -->
    <section id="about" class="about section">

      <!-- Section Title -->
      <div class="container section-title" data-aos="fade-up">
        <h2>About</h2>
        <p></p>
      </div><!-- End Section Title -->

      <div class="container">

        <div class="row gy-4">

          <div class="col-lg-6 content" data-aos="fade-up" data-aos-delay="100">
            <p>
              CAMSPEAK adalah sebuah website interaktif yang dirancang untuk membantu pengguna membaca teks dari gambar
              maupun dokumen, dan mengubahnya menjadi suara secara otomatis. Website ini memanfaatkan teknologi Optical
              Character Recognition (OCR) untuk mengenali teks, dan Text-to-Speech (TTS) untuk mengubahnya menjadi
              audio.
            </p>
          </div>

          <div class="col-lg-6" data-aos="fade-up" data-aos-delay="200">
            <p>
              Kami percaya bahwa akses informasi seharusnya mudah dan inklusif bagi semua kalangan. Oleh karena itu,
              CAMSPEAK hadir sebagai solusi ringan, praktis, dan dapat diakses langsung melalui browser tanpa perlu
              instalasi aplikasi tambahan. Baik untuk membantu individu dengan keterbatasan penglihatan, mendukung
              pembelajaran, atau kebutuhan digital lainnya, CAMSPEAK menawarkan kemudahan dalam satu platform.
            </p>
          </div>

        </div>

        <!-- Tombol -->
        <div class="text-center mt-4">
          <a href="#" class="read-more" id="playAudioBtn"><span>Jelaskan</span></a>
        </div>

        <!-- Elemen audio (hidden player) -->
        <audio id="audioPlayer" src="static/img/Audio Assets/Penjelasan About.mp3"></audio>
      </div>


    </section><!-- /About Section -->

    <!-- Faq Section -->
    <section id="faq" class="faq section light-background">

      <!-- Section Title -->
      <div class="container section-title" data-aos="fade-up">
        <h2>Frequently Asked Questions</h2>
        <p>Anda dapat mengetahui pertanyaan yang mungkin akan anda tanyakan pada bagian berikut</p>
      </div><!-- End Section Title -->

      <div class="container">

        <div class="row justify-content-center">

          <div class="col-lg-8">

            <div class="faq-container">

              <div class="faq-item" data-aos="fade-up" data-aos-delay="200">
                <i class="faq-icon bi bi-question-circle"></i>
                <h3>Jenis file apa saja yang bisa diunggah ke sistem ini?</h3>
                <div class="faq-content">
                    <p>Anda dapat mengunggah file dalam format gambar (.jpg, .jpeg, .png) maupun dokumen (.pdf). File ini
                        akan diproses untuk mengenali teks di dalamnya.</p>
                </div>
                <div class="text-center mt-4 explain-button hidden-button">
                    <a href="#" class="read-more" id="playAudioBtn"><span>Jelaskan</span></a>
                </div>

                <audio id="audioPlayer" src="static/img/Audio Assets/faq 1.mp3"></audio>
                <i class="faq-toggle bi bi-chevron-right"></i>
              </div>

              <div class="faq-item" data-aos="fade-up" data-aos-delay="300">
                <i class="faq-icon bi bi-question-circle"></i>
                <h3>Apakah saya bisa menggunakan kamera langsung dari website?</h3>
                <div class="faq-content">
                  <p>Ya, CAMSPEAK mendukung penggunaan kamera perangkat Anda secara langsung untuk mengambil gambar yang
                    akan diproses.</p>
                </div>
                <div class="text-center mt-4 explain-button hidden-button">
                    <a href="#" class="read-more" id="playAudioBtn"><span>Jelaskan</span></a>
                </div>

                <audio id="audioPlayer" src="static/img/Audio Assets/faq 2.mp3"></audio>
                <i class="faq-toggle bi bi-chevron-right"></i>
              </div><!-- End Faq item-->

              <div class="faq-item" data-aos="fade-up" data-aos-delay="400">
                <i class="faq-icon bi bi-question-circle"></i>
                <h3>Apakah saya perlu menginstal aplikasi tambahan untuk menggunakan CAMSPEAK?</h3>
                <div class="faq-content">
                  <p>Tidak. CAMSPEAK sepenuhnya berbasis web, jadi Anda hanya perlu menggunakan browser tanpa instalasi
                    tambahan.</p>
                </div>
                <div class="text-center mt-4 explain-button hidden-button">
                    <a href="#" class="read-more" id="playAudioBtn"><span>Jelaskan</span></a>
                </div>

                <audio id="audioPlayer" src="static/img/Audio Assets/faq 3.mp3"></audio>
                <i class="faq-toggle bi bi-chevron-right"></i>
              </div><!-- End Faq item-->

              <div class="faq-item" data-aos="fade-up" data-aos-delay="500">
                <i class="faq-icon bi bi-question-circle"></i>
                <h3>Bahasa apa saja yang didukung dalam proses pembacaan teks (OCR dan TTS)?</h3>
                <div class="faq-content">
                  <p>Saat ini CAMSPEAK mendukung teks berbahasa Indonesia dan Inggris. Pengembangan untuk bahasa lain
                    akan ditambahkan secara bertahap.</p>
                </div>
                <div class="text-center mt-4 explain-button hidden-button">
                    <a href="#" class="read-more" id="playAudioBtn"><span>Jelaskan</span></a>
                </div>

                <audio id="audioPlayer" src="static/img/Audio Assets/faq 4.mp3"></audio>
                <i class="faq-toggle bi bi-chevron-right"></i>
              </div><!-- End Faq item-->

              <div class="faq-item" data-aos="fade-up" data-aos-delay="600">
                <i class="faq-icon bi bi-question-circle"></i>
                <h3>Teks saya tidak terbaca dengan benar, apa yang harus saya lakukan?</h3>
                <div class="faq-content">
                  <p>Pastikan gambar atau dokumen yang diunggah memiliki kualitas yang jelas dan tidak blur. Hindari
                    sudut pengambilan miring serta pastikan pencahayaan cukup.</p>
                </div>
                <div class="text-center mt-4 explain-button hidden-button">
                    <a href="#" class="read-more" id="playAudioBtn"><span>Jelaskan</span></a>
                </div>

                <audio id="audioPlayer" src="static/img/Audio Assets/faq 5.mp3"></audio>
                <i class="faq-toggle bi bi-chevron-right"></i>
              </div><!-- End Faq item-->

            </div>

          </div>

        </div>

      </div>

    </section><!-- /Faq Section -->


  </main>

  <footer id="footer" class="footer">
  </footer>

  <!-- Scroll Top -->
  <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i
      class="bi bi-arrow-up-short"></i></a>

  <!-- Preloader -->
  <div id="preloader"></div>

  <!-- Vendor JS Files -->
  <script src="{{ url_for('static', filename='vendor/bootstrap/js/bootstrap.bundle.min.js') }}"></script>
  <script src="{{ url_for('static', filename='vendor/php-email-form/validate.js') }}"></script>
  <script src="{{ url_for('static', filename='vendor/aos/aos.js') }}"></script>
  <script src="{{ url_for('static', filename='vendor/swiper/swiper-bundle.min.js') }}"></script>
  <script src="{{ url_for('static', filename='vendor/glightbox/js/glightbox.min.js') }}"></script>

  <!-- Main JS File -->
  <script src="{{ url_for('static', filename='js/main.js') }}"></script>

</body>

</html>